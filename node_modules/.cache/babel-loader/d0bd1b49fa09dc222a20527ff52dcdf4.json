{"ast":null,"code":"var _jsxFileName = \"/Users/altafquadri/Development/code/Mod5Project/Frontend/lead-us-react/src/containers/LeadActivityContainer.js\";\nimport React from 'react';\nimport './LeadActivityContainer.css';\nimport ShowLeadContainer from './ShowLeadContainer';\nimport CallsContainer from './CallsContainer';\nimport CallForm from '../components/CallForm';\nconst api = 'http://localhost:3000/api/v1/calls';\n\nclass LeadActivityContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      user_id: 1,\n      //hard coded for now\n      lead_id: this.props.lead.id,\n      callForm: false,\n      appointmentForm: false,\n      call_status: \"No Answer\",\n      'appointment_made?': false,\n      'archive_lead?': false\n    };\n\n    this.setInitialState = () => {\n      this.setState({\n        user_id: 1,\n        //hard coded for now\n        lead_id: this.props.lead.id,\n        callForm: false,\n        appointmentForm: false,\n        call_status: \"No a\",\n        'appointment_made?': false,\n        'archive_lead?': false\n      });\n    };\n\n    this.onPhoneClick = () => {\n      this.setState({\n        callForm: !this.state.callForm,\n        lead_id: this.props.lead.id\n      });\n    };\n\n    this.onFormChange = e => {\n      this.setState({\n        call_status: e.target.value\n      });\n    };\n\n    this.onToggleArchive = () => {\n      this.setState({\n        'archive_lead?': !this.state['archive_lead?']\n      });\n    };\n\n    this.onToggleAppointment = () => {\n      this.setState({\n        'appointment_made?': !this.state['appointment_made?']\n      });\n    };\n\n    this.onFormSubmission = e => {\n      e.preventDefault();\n      fetch(api, {\n        method: 'POST',\n        headers: {\n          \"Content-type\": 'application/json',\n          Accepts: 'application/json'\n        },\n        body: JSON.stringify({\n          user_id: this.state.user_id,\n          lead_id: this.state.lead_id,\n          call_status: this.state.call_status,\n          'appointment_made?': this.state['appointment_made?'],\n          'archive_lead?': this.state['archive_lead?']\n        })\n      }).then(resp => resp.json()).then(call => this.props.addNewCall(call));\n      this.setInitialState();\n    };\n  }\n\n  render() {\n    console.log('I am from props in leadActCont', this.props);\n    return React.createElement(\"div\", {\n      className: \"activity-show-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lead-show-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 74\n      },\n      __self: this\n    }, React.createElement(ShowLeadContainer, {\n      lead: this.props.lead,\n      onPhoneClick: this.onPhoneClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75\n      },\n      __self: this\n    }), React.createElement(CallsContainer, {\n      calls: this.props.calls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 76\n      },\n      __self: this\n    })), this.state.callForm ? React.createElement(CallForm, {\n      calls: this.props.calls,\n      formData: this.state,\n      onToggleArchive: this.onToggleArchive,\n      onFormSubmission: this.onFormSubmission,\n      onToggleAppointment: this.onToggleAppointment,\n      onFormChange: this.onFormChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 78\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default LeadActivityContainer; //console.log(\"this is the current object\", this.props.lead)","map":{"version":3,"sources":["/Users/altafquadri/Development/code/Mod5Project/Frontend/lead-us-react/src/containers/LeadActivityContainer.js"],"names":["React","ShowLeadContainer","CallsContainer","CallForm","api","LeadActivityContainer","Component","state","user_id","lead_id","props","lead","id","callForm","appointmentForm","call_status","setInitialState","setState","onPhoneClick","onFormChange","e","target","value","onToggleArchive","onToggleAppointment","onFormSubmission","preventDefault","fetch","method","headers","Accepts","body","JSON","stringify","then","resp","json","call","addNewCall","render","console","log","calls"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,6BAAP;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AAEA,MAAMC,GAAG,GAAG,oCAAZ;;AAEA,MAAMC,qBAAN,SAAoCL,KAAK,CAACM,SAA1C,CAAoD;AAAA;AAAA;AAAA,SAChDC,KADgD,GACxC;AACJC,MAAAA,OAAO,EAAE,CADL;AACQ;AACZC,MAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAFrB;AAGJC,MAAAA,QAAQ,EAAE,KAHN;AAIJC,MAAAA,eAAe,EAAE,KAJb;AAKJC,MAAAA,WAAW,EAAE,WALT;AAMJ,2BAAqB,KANjB;AAOJ,uBAAiB;AAPb,KADwC;;AAAA,SAW/CC,eAX+C,GAW7B,MAAM;AACpB,WAAKC,QAAL,CAAc;AACXT,QAAAA,OAAO,EAAE,CADE;AACC;AACZC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAFd;AAGXC,QAAAA,QAAQ,EAAE,KAHC;AAIXC,QAAAA,eAAe,EAAE,KAJN;AAKXC,QAAAA,WAAW,EAAE,MALF;AAMX,6BAAqB,KANV;AAOX,yBAAiB;AAPN,OAAd;AASH,KArB8C;;AAAA,SAuB/CG,YAvB+C,GAuBhC,MAAM;AACjB,WAAKD,QAAL,CACI;AAAEJ,QAAAA,QAAQ,EAAE,CAAC,KAAKN,KAAL,CAAWM,QAAxB;AACGJ,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC;AAD5B,OADJ;AAIH,KA5B8C;;AAAA,SA8BhDO,YA9BgD,GA8BhCC,CAAD,IAAO;AAClB,WAAKH,QAAL,CAAc;AAAEF,QAAAA,WAAW,EAAEK,CAAC,CAACC,MAAF,CAASC;AAAxB,OAAd;AACH,KAhC+C;;AAAA,SAkChDC,eAlCgD,GAkC9B,MAAM;AACpB,WAAKN,QAAL,CAAc;AAAE,yBAAiB,CAAC,KAAKV,KAAL,CAAW,eAAX;AAApB,OAAd;AACH,KApC+C;;AAAA,SAsChDiB,mBAtCgD,GAsC1B,MAAM;AACxB,WAAKP,QAAL,CAAc;AAAE,6BAAqB,CAAC,KAAKV,KAAL,CAAW,mBAAX;AAAxB,OAAd;AACH,KAxC+C;;AAAA,SA0ChDkB,gBA1CgD,GA0C5BL,CAAD,IAAO;AACtBA,MAAAA,CAAC,CAACM,cAAF;AACAC,MAAAA,KAAK,CAACvB,GAAD,EAAM;AACPwB,QAAAA,MAAM,EAAE,MADD;AAEPC,QAAAA,OAAO,EAAE;AACL,0BAAgB,kBADX;AAELC,UAAAA,OAAO,EAAE;AAFJ,SAFF;AAMPC,QAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBzB,UAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC,OADH;AAEjBC,UAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWE,OAFH;AAGjBM,UAAAA,WAAW,EAAE,KAAKR,KAAL,CAAWQ,WAHP;AAIjB,+BAAqB,KAAKR,KAAL,CAAW,mBAAX,CAJJ;AAKjB,2BAAiB,KAAKA,KAAL,CAAW,eAAX;AALA,SAAf;AANC,OAAN,CAAL,CAaG2B,IAbH,CAaQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAbhB,EAa6BF,IAb7B,CAakCG,IAAI,IAAI,KAAK3B,KAAL,CAAW4B,UAAX,CAAsBD,IAAtB,CAb1C;AAcA,WAAKrB,eAAL;AACH,KA3D+C;AAAA;;AA6DhDuB,EAAAA,MAAM,GAAG;AACLC,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ,EAA6C,KAAK/B,KAAlD;AACA,WACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,iBAAD;AAAmB,MAAA,IAAI,EAAE,KAAKA,KAAL,CAAWC,IAApC;AAA0C,MAAA,YAAY,EAAE,KAAKO,YAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,cAAD;AAAgB,MAAA,KAAK,EAAE,KAAKR,KAAL,CAAWgC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,CADJ,EAKK,KAAKnC,KAAL,CAAWM,QAAX,GAAsB,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWgC,KAA5B;AACvB,MAAA,QAAQ,EAAE,KAAKnC,KADQ;AAEvB,MAAA,eAAe,EAAE,KAAKgB,eAFC;AAGvB,MAAA,gBAAgB,EAAE,KAAKE,gBAHA;AAIvB,MAAA,mBAAmB,EAAE,KAAKD,mBAJH;AAKvB,MAAA,YAAY,EAAE,KAAKL,YALI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAKoC,IAVzC,CADJ;AAcC;;AA7E2C;;AAgFhD,eAAed,qBAAf,C,CACA","sourcesContent":["import React from 'react';\nimport './LeadActivityContainer.css'\nimport ShowLeadContainer from './ShowLeadContainer';\nimport CallsContainer from './CallsContainer';\nimport CallForm from '../components/CallForm'\n\nconst api = 'http://localhost:3000/api/v1/calls'\n\nclass LeadActivityContainer extends React.Component {\n    state = { \n        user_id: 1, //hard coded for now\n        lead_id: this.props.lead.id,\n        callForm: false,\n        appointmentForm: false,\n        call_status: \"No Answer\",\n        'appointment_made?': false,\n        'archive_lead?': false\n     }\n\n     setInitialState = () => {\n         this.setState({ \n            user_id: 1, //hard coded for now\n            lead_id: this.props.lead.id,\n            callForm: false,\n            appointmentForm: false,\n            call_status: \"No a\",\n            'appointment_made?': false,\n            'archive_lead?': false  \n        });\n     }\n\n     onPhoneClick = () => {\n         this.setState(\n             { callForm: !this.state.callForm,\n                lead_id: this.props.lead.id\n            });\n     }\n\n    onFormChange = (e) => {\n        this.setState({ call_status: e.target.value  });\n    }\n\n    onToggleArchive = () => {\n        this.setState({ 'archive_lead?': !this.state['archive_lead?']  });\n    }\n\n    onToggleAppointment = () => {\n        this.setState({ 'appointment_made?': !this.state['appointment_made?']  });\n    }\n\n    onFormSubmission = (e) => {\n        e.preventDefault()\n        fetch(api, {\n            method: 'POST',\n            headers: {\n                \"Content-type\": 'application/json',\n                Accepts: 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: this.state.user_id,\n                lead_id: this.state.lead_id,\n                call_status: this.state.call_status,\n                'appointment_made?': this.state['appointment_made?'],\n                'archive_lead?': this.state['archive_lead?']\n            })\n        }).then(resp => resp.json()).then(call => this.props.addNewCall(call))\n        this.setInitialState()\n    }\n\n    render() { \n        console.log('I am from props in leadActCont',this.props)\n        return ( \n            <div className=\"activity-show-page\">\n                <div className=\"lead-show-page\">\n                    <ShowLeadContainer lead={this.props.lead} onPhoneClick={this.onPhoneClick}/>\n                    <CallsContainer calls={this.props.calls} />\n                </div>\n                {this.state.callForm ? <CallForm calls={this.props.calls} \n                formData={this.state}\n                onToggleArchive={this.onToggleArchive}\n                onFormSubmission={this.onFormSubmission}\n                onToggleAppointment={this.onToggleAppointment}\n                onFormChange={this.onFormChange}/> : null }\n            </div>\n            );\n        }\n    }\n    \n    export default LeadActivityContainer;\n    //console.log(\"this is the current object\", this.props.lead)"]},"metadata":{},"sourceType":"module"}