{"ast":null,"code":"var _jsxFileName = \"/Users/altafquadri/Development/code/Mod5Project/Frontend/lead-us-react/src/containers/LeadActivityContainer.js\";\nimport React from 'react';\nimport './LeadActivityContainer.css';\nimport ShowLeadContainer from './ShowLeadContainer';\nimport CallsContainer from './CallsContainer';\nimport CallForm from '../components/CallForm';\nimport AppointmentsContainer from './AppointmentsContainer';\nimport AppointmentForm from '../components/AppointmentForm';\nconst api = 'http://localhost:3000/api/v1/calls';\n\nclass LeadActivityContainer extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      //for both\n      user_id: 1,\n      //hard coded for now\n      lead_id: this.props.lead.id,\n      //for calls\n      callForm: false,\n      appointmentForm: true,\n      call_status: \"No Answer\",\n      'appointment_made?': false,\n      'archive_lead?': false,\n      callsSubmitted: false,\n      //for appointments\n      title: \"\",\n      date: \"\",\n      start_time: \"\",\n      end_time: \"\",\n      'presentation_made?': false,\n      'made_sale?': false\n    };\n\n    this.setInitialState = () => {\n      this.setState({\n        user_id: 1,\n        //hard coded for now\n        lead_id: this.props.lead.id,\n        callForm: false,\n        appointmentForm: false,\n        call_status: \"No Answer\",\n        'appointment_made?': false,\n        'archive_lead?': false,\n        callsSubmitted: false,\n        title: \"\",\n        date: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        'presentation_made?': false,\n        'made_sale?': false\n      });\n    };\n\n    this.setAppointmentState = () => {\n      this.setState({\n        user_id: 1,\n        //hard coded for now\n        lead_id: this.props.lead.id,\n        callForm: false,\n        appointmentForm: true,\n        call_status: \"No Answer\",\n        'appointment_made?': false,\n        'archive_lead?': false,\n        callsSubmitted: true,\n        title: \"\",\n        date: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        'presentation_made?': false,\n        'made_sale?': false\n      });\n    };\n\n    this.onPhoneClick = () => {\n      this.setState({\n        callForm: !this.state.callForm,\n        lead_id: this.props.lead.id\n      });\n    };\n\n    this.onFormChange = e => {\n      this.setState({\n        call_status: e.target.value\n      });\n    };\n\n    this.onToggleArchive = () => {\n      this.setState({\n        'archive_lead?': !this.state['archive_lead?']\n      });\n    };\n\n    this.onToggleAppointment = () => {\n      this.setState({\n        'appointment_made?': !this.state['appointment_made?']\n      });\n    };\n\n    this.onTogglePresentation = () => {\n      this.setState({\n        'presentation_made?': !this.state['presentation_made?']\n      });\n    };\n\n    this.onToggleSale = () => {\n      this.setState({\n        'made_sale?': !this.state['made_sale?']\n      });\n    };\n\n    this.onFormSubmission = e => {\n      e.preventDefault();\n\n      if (this.state['appointment_made?'] === false) {\n        fetch(api, {\n          method: 'POST',\n          headers: {\n            \"Content-type\": 'application/json',\n            Accepts: 'application/json'\n          },\n          body: JSON.stringify({\n            user_id: this.state.user_id,\n            lead_id: this.state.lead_id,\n            call_status: this.state.call_status,\n            'appointment_made?': this.state['appointment_made?'],\n            'archive_lead?': this.state['archive_lead?']\n          })\n        }).then(resp => resp.json()).then(call => this.props.addNewCall(call));\n        this.setInitialState();\n        this.setState({\n          callsSubmitted: true\n        });\n      } else if (this.state['appointment_made?']) {\n        fetch(api, {\n          method: 'POST',\n          headers: {\n            \"Content-type\": 'application/json',\n            Accepts: 'application/json'\n          },\n          body: JSON.stringify({\n            user_id: this.state.user_id,\n            lead_id: this.state.lead_id,\n            call_status: this.state.call_status,\n            'appointment_made?': this.state['appointment_made?'],\n            'archive_lead?': this.state['archive_lead?']\n          })\n        }).then(resp => resp.json()).then(call => this.props.addNewCall(call));\n        this.settialState();\n      }\n    };\n\n    this.partialFormHandler = e => {\n      this.setState({\n        [e.target.name]: e.target.value\n      });\n    };\n  }\n\n  render() {\n    // console.log('I am from props in leadActCont',this.props)\n    return React.createElement(\"div\", {\n      className: \"activity-show-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 151\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"lead-show-page\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(ShowLeadContainer, {\n      lead: this.props.lead,\n      onPhoneClick: this.onPhoneClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }), React.createElement(CallsContainer, {\n      calls: this.props.calls,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(AppointmentsContainer, {\n      clickedLeadAppointments: this.props.clickedLeadAppointments,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155\n      },\n      __self: this\n    })), this.state.callForm ? React.createElement(CallForm, {\n      calls: this.props.calls,\n      formData: this.state,\n      onToggleArchive: this.onToggleArchive,\n      onFormSubmission: this.onFormSubmission,\n      onToggleAppointment: this.onToggleAppointment,\n      onFormChange: this.onFormChange,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157\n      },\n      __self: this\n    }) : null, this.state.appointmentForm ? React.createElement(AppointmentForm, {\n      formData: this.state,\n      partialFormHandler: this.partialFormHandler,\n      onTogglePresentation: this.onTogglePresentation,\n      onToggleSale: this.onToggleSale,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default LeadActivityContainer;","map":{"version":3,"sources":["/Users/altafquadri/Development/code/Mod5Project/Frontend/lead-us-react/src/containers/LeadActivityContainer.js"],"names":["React","ShowLeadContainer","CallsContainer","CallForm","AppointmentsContainer","AppointmentForm","api","LeadActivityContainer","Component","state","user_id","lead_id","props","lead","id","callForm","appointmentForm","call_status","callsSubmitted","title","date","start_time","end_time","setInitialState","setState","setAppointmentState","onPhoneClick","onFormChange","e","target","value","onToggleArchive","onToggleAppointment","onTogglePresentation","onToggleSale","onFormSubmission","preventDefault","fetch","method","headers","Accepts","body","JSON","stringify","then","resp","json","call","addNewCall","settialState","partialFormHandler","name","render","calls","clickedLeadAppointments"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAO,6BAAP;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,qBAAP,MAAkC,yBAAlC;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AAEA,MAAMC,GAAG,GAAG,oCAAZ;;AAEA,MAAMC,qBAAN,SAAoCP,KAAK,CAACQ,SAA1C,CAAoD;AAAA;AAAA;AAAA,SAChDC,KADgD,GACxC;AAEJ;AACAC,MAAAA,OAAO,EAAE,CAHL;AAGQ;AACZC,MAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAJrB;AAMJ;AACAC,MAAAA,QAAQ,EAAE,KAPN;AAQJC,MAAAA,eAAe,EAAE,IARb;AASJC,MAAAA,WAAW,EAAE,WATT;AAUJ,2BAAqB,KAVjB;AAWJ,uBAAiB,KAXb;AAYJC,MAAAA,cAAc,EAAE,KAZZ;AAcJ;AACAC,MAAAA,KAAK,EAAE,EAfH;AAgBJC,MAAAA,IAAI,EAAE,EAhBF;AAiBJC,MAAAA,UAAU,EAAE,EAjBR;AAkBJC,MAAAA,QAAQ,EAAE,EAlBN;AAmBJ,4BAAsB,KAnBlB;AAoBJ,oBAAc;AApBV,KADwC;;AAAA,SAyB/CC,eAzB+C,GAyB7B,MAAM;AACpB,WAAKC,QAAL,CAAc;AACXd,QAAAA,OAAO,EAAE,CADE;AACC;AACZC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAFd;AAGXC,QAAAA,QAAQ,EAAE,KAHC;AAIXC,QAAAA,eAAe,EAAE,KAJN;AAKXC,QAAAA,WAAW,EAAE,WALF;AAMX,6BAAqB,KANV;AAOX,yBAAiB,KAPN;AAQXC,QAAAA,cAAc,EAAE,KARL;AAUXC,QAAAA,KAAK,EAAE,EAVI;AAWXC,QAAAA,IAAI,EAAE,EAXK;AAYXC,QAAAA,UAAU,EAAE,EAZD;AAaXC,QAAAA,QAAQ,EAAE,EAbC;AAcX,8BAAsB,KAdX;AAeX,sBAAc;AAfH,OAAd;AAiBH,KA3C8C;;AAAA,SA6C/CG,mBA7C+C,GA6CzB,MAAM;AACzB,WAAKD,QAAL,CAAc;AACXd,QAAAA,OAAO,EAAE,CADE;AACC;AACZC,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC,EAFd;AAGXC,QAAAA,QAAQ,EAAE,KAHC;AAIXC,QAAAA,eAAe,EAAE,IAJN;AAKXC,QAAAA,WAAW,EAAE,WALF;AAMX,6BAAqB,KANV;AAOX,yBAAiB,KAPN;AAQXC,QAAAA,cAAc,EAAE,IARL;AAUXC,QAAAA,KAAK,EAAE,EAVI;AAWXC,QAAAA,IAAI,EAAE,EAXK;AAYXC,QAAAA,UAAU,EAAE,EAZD;AAaXC,QAAAA,QAAQ,EAAE,EAbC;AAcX,8BAAsB,KAdX;AAeX,sBAAc;AAfH,OAAd;AAiBH,KA/D+C;;AAAA,SAiE/CI,YAjE+C,GAiEhC,MAAM;AACjB,WAAKF,QAAL,CACI;AAAET,QAAAA,QAAQ,EAAE,CAAC,KAAKN,KAAL,CAAWM,QAAxB;AACGJ,QAAAA,OAAO,EAAE,KAAKC,KAAL,CAAWC,IAAX,CAAgBC;AAD5B,OADJ;AAIH,KAtE8C;;AAAA,SAwEhDa,YAxEgD,GAwEhCC,CAAD,IAAO;AAClB,WAAKJ,QAAL,CAAc;AAAEP,QAAAA,WAAW,EAAEW,CAAC,CAACC,MAAF,CAASC;AAAxB,OAAd;AACH,KA1E+C;;AAAA,SA4EhDC,eA5EgD,GA4E9B,MAAM;AACpB,WAAKP,QAAL,CAAc;AAAE,yBAAiB,CAAC,KAAKf,KAAL,CAAW,eAAX;AAApB,OAAd;AACH,KA9E+C;;AAAA,SAgFhDuB,mBAhFgD,GAgF1B,MAAM;AACxB,WAAKR,QAAL,CAAc;AAAE,6BAAqB,CAAC,KAAKf,KAAL,CAAW,mBAAX;AAAxB,OAAd;AACH,KAlF+C;;AAAA,SAoFhDwB,oBApFgD,GAoFzB,MAAM;AACzB,WAAKT,QAAL,CAAc;AAAE,8BAAsB,CAAC,KAAKf,KAAL,CAAW,oBAAX;AAAzB,OAAd;AACH,KAtF+C;;AAAA,SAwFhDyB,YAxFgD,GAwFjC,MAAM;AACjB,WAAKV,QAAL,CAAc;AAAE,sBAAc,CAAC,KAAKf,KAAL,CAAW,YAAX;AAAjB,OAAd;AACH,KA1F+C;;AAAA,SA4FhD0B,gBA5FgD,GA4F5BP,CAAD,IAAO;AACtBA,MAAAA,CAAC,CAACQ,cAAF;;AAEA,UAAI,KAAK3B,KAAL,CAAW,mBAAX,MAAoC,KAAxC,EAA+C;AAC3C4B,QAAAA,KAAK,CAAC/B,GAAD,EAAM;AACPgC,UAAAA,MAAM,EAAE,MADD;AAEPC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAELC,YAAAA,OAAO,EAAE;AAFJ,WAFF;AAMPC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBjC,YAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC,OADH;AAEjBC,YAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWE,OAFH;AAGjBM,YAAAA,WAAW,EAAE,KAAKR,KAAL,CAAWQ,WAHP;AAIjB,iCAAqB,KAAKR,KAAL,CAAW,mBAAX,CAJJ;AAKjB,6BAAiB,KAAKA,KAAL,CAAW,eAAX;AALA,WAAf;AANC,SAAN,CAAL,CAaGmC,IAbH,CAaQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAbhB,EAa6BF,IAb7B,CAakCG,IAAI,IAAI,KAAKnC,KAAL,CAAWoC,UAAX,CAAsBD,IAAtB,CAb1C;AAcA,aAAKxB,eAAL;AACA,aAAKC,QAAL,CAAc;AAAEN,UAAAA,cAAc,EAAE;AAAlB,SAAd;AAEH,OAlBD,MAkBO,IAAI,KAAKT,KAAL,CAAW,mBAAX,CAAJ,EAAqC;AACxC4B,QAAAA,KAAK,CAAC/B,GAAD,EAAM;AACPgC,UAAAA,MAAM,EAAE,MADD;AAEPC,UAAAA,OAAO,EAAE;AACL,4BAAgB,kBADX;AAELC,YAAAA,OAAO,EAAE;AAFJ,WAFF;AAMPC,UAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AACjBjC,YAAAA,OAAO,EAAE,KAAKD,KAAL,CAAWC,OADH;AAEjBC,YAAAA,OAAO,EAAE,KAAKF,KAAL,CAAWE,OAFH;AAGjBM,YAAAA,WAAW,EAAE,KAAKR,KAAL,CAAWQ,WAHP;AAIjB,iCAAqB,KAAKR,KAAL,CAAW,mBAAX,CAJJ;AAKjB,6BAAiB,KAAKA,KAAL,CAAW,eAAX;AALA,WAAf;AANC,SAAN,CAAL,CAaGmC,IAbH,CAaQC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAbhB,EAa6BF,IAb7B,CAakCG,IAAI,IAAI,KAAKnC,KAAL,CAAWoC,UAAX,CAAsBD,IAAtB,CAb1C;AAcA,aAAKE,YAAL;AAEH;AACJ,KAnI+C;;AAAA,SAqIhDC,kBArIgD,GAqI1BtB,CAAD,IAAO;AACxB,WAAKJ,QAAL,CAAc;AAAE,SAACI,CAAC,CAACC,MAAF,CAASsB,IAAV,GAAiBvB,CAAC,CAACC,MAAF,CAASC;AAA5B,OAAd;AACH,KAvI+C;AAAA;;AAyIhDsB,EAAAA,MAAM,GAAG;AACL;AACA,WACI;AAAK,MAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI,oBAAC,iBAAD;AAAmB,MAAA,IAAI,EAAE,KAAKxC,KAAL,CAAWC,IAApC;AAA0C,MAAA,YAAY,EAAE,KAAKa,YAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI,oBAAC,cAAD;AAAgB,MAAA,KAAK,EAAE,KAAKd,KAAL,CAAWyC,KAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAGI,oBAAC,qBAAD;AAAuB,MAAA,uBAAuB,EAAE,KAAKzC,KAAL,CAAW0C,uBAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,CADJ,EAMK,KAAK7C,KAAL,CAAWM,QAAX,GAAsB,oBAAC,QAAD;AAAU,MAAA,KAAK,EAAE,KAAKH,KAAL,CAAWyC,KAA5B;AACvB,MAAA,QAAQ,EAAE,KAAK5C,KADQ;AAEvB,MAAA,eAAe,EAAE,KAAKsB,eAFC;AAGvB,MAAA,gBAAgB,EAAE,KAAKI,gBAHA;AAIvB,MAAA,mBAAmB,EAAE,KAAKH,mBAJH;AAKvB,MAAA,YAAY,EAAE,KAAKL,YALI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAtB,GAKoC,IAXzC,EAaK,KAAKlB,KAAL,CAAWO,eAAX,GAA6B,oBAAC,eAAD;AAAiB,MAAA,QAAQ,EAAE,KAAKP,KAAhC;AAC9B,MAAA,kBAAkB,EAAE,KAAKyC,kBADK;AAE9B,MAAA,oBAAoB,EAAE,KAAKjB,oBAFG;AAG9B,MAAA,YAAY,EAAE,KAAKC,YAHW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA7B,GAII,IAjBT,CADJ;AAsBC;;AAjK2C;;AAoKhD,eAAe3B,qBAAf","sourcesContent":["import React from 'react';\nimport './LeadActivityContainer.css'\nimport ShowLeadContainer from './ShowLeadContainer';\nimport CallsContainer from './CallsContainer';\nimport CallForm from '../components/CallForm'\nimport AppointmentsContainer from './AppointmentsContainer';\nimport AppointmentForm from '../components/AppointmentForm'\n\nconst api = 'http://localhost:3000/api/v1/calls'\n\nclass LeadActivityContainer extends React.Component {\n    state = { \n\n        //for both\n        user_id: 1, //hard coded for now\n        lead_id: this.props.lead.id,\n\n        //for calls\n        callForm: false,\n        appointmentForm: true,\n        call_status: \"No Answer\",\n        'appointment_made?': false,\n        'archive_lead?': false,\n        callsSubmitted: false,\n\n        //for appointments\n        title: \"\",\n        date: \"\",\n        start_time: \"\",\n        end_time: \"\",\n        'presentation_made?': false,\n        'made_sale?': false\n\n     }\n\n     setInitialState = () => {\n         this.setState({ \n            user_id: 1, //hard coded for now\n            lead_id: this.props.lead.id,\n            callForm: false,\n            appointmentForm: false,\n            call_status: \"No Answer\",\n            'appointment_made?': false,\n            'archive_lead?': false,\n            callsSubmitted: false,\n\n            title: \"\",\n            date: \"\",\n            start_time: \"\",\n            end_time: \"\",\n            'presentation_made?': false,\n            'made_sale?': false\n        });\n     }\n\n     setAppointmentState = () => {\n        this.setState({ \n           user_id: 1, //hard coded for now\n           lead_id: this.props.lead.id,\n           callForm: false,\n           appointmentForm: true,\n           call_status: \"No Answer\",\n           'appointment_made?': false,\n           'archive_lead?': false,\n           callsSubmitted: true,\n\n           title: \"\",\n           date: \"\",\n           start_time: \"\",\n           end_time: \"\",\n           'presentation_made?': false,\n           'made_sale?': false\n       });\n    }\n\n     onPhoneClick = () => {\n         this.setState(\n             { callForm: !this.state.callForm,\n                lead_id: this.props.lead.id\n            });\n     }\n\n    onFormChange = (e) => {\n        this.setState({ call_status: e.target.value  });\n    }\n\n    onToggleArchive = () => {\n        this.setState({ 'archive_lead?': !this.state['archive_lead?']  });\n    }\n\n    onToggleAppointment = () => {\n        this.setState({ 'appointment_made?': !this.state['appointment_made?']  });\n    }\n\n    onTogglePresentation = () => {\n        this.setState({ 'presentation_made?': !this.state['presentation_made?']  });\n    }\n\n    onToggleSale = () => {\n        this.setState({ 'made_sale?': !this.state['made_sale?']  });\n    }\n\n    onFormSubmission = (e) => {\n        e.preventDefault()\n\n        if (this.state['appointment_made?'] === false) {\n            fetch(api, {\n                method: 'POST',\n                headers: {\n                    \"Content-type\": 'application/json',\n                    Accepts: 'application/json'\n                },\n                body: JSON.stringify({\n                    user_id: this.state.user_id,\n                    lead_id: this.state.lead_id,\n                    call_status: this.state.call_status,\n                    'appointment_made?': this.state['appointment_made?'],\n                    'archive_lead?': this.state['archive_lead?']\n                })\n            }).then(resp => resp.json()).then(call => this.props.addNewCall(call))\n            this.setInitialState()\n            this.setState({ callsSubmitted: true  });\n\n        } else if (this.state['appointment_made?']) {\n            fetch(api, {\n                method: 'POST',\n                headers: {\n                    \"Content-type\": 'application/json',\n                    Accepts: 'application/json'\n                },\n                body: JSON.stringify({\n                    user_id: this.state.user_id,\n                    lead_id: this.state.lead_id,\n                    call_status: this.state.call_status,\n                    'appointment_made?': this.state['appointment_made?'],\n                    'archive_lead?': this.state['archive_lead?']\n                })\n            }).then(resp => resp.json()).then(call => this.props.addNewCall(call))\n            this.settialState()\n            \n        }\n    }\n\n    partialFormHandler = (e) => {\n        this.setState({ [e.target.name]: e.target.value  });\n    }\n\n    render() { \n        // console.log('I am from props in leadActCont',this.props)\n        return ( \n            <div className=\"activity-show-page\">\n                <div className=\"lead-show-page\">\n                    <ShowLeadContainer lead={this.props.lead} onPhoneClick={this.onPhoneClick}/>\n                    <CallsContainer calls={this.props.calls} />\n                    <AppointmentsContainer clickedLeadAppointments={this.props.clickedLeadAppointments}/>\n                </div>\n                {this.state.callForm ? <CallForm calls={this.props.calls} \n                formData={this.state}\n                onToggleArchive={this.onToggleArchive}\n                onFormSubmission={this.onFormSubmission}\n                onToggleAppointment={this.onToggleAppointment}\n                onFormChange={this.onFormChange}/> : null }\n\n                {this.state.appointmentForm ? <AppointmentForm formData={this.state}\n                partialFormHandler={this.partialFormHandler}\n                onTogglePresentation={this.onTogglePresentation}\n                onToggleSale={this.onToggleSale}\n                /> : null}\n            </div>\n                \n            );\n        }\n    }\n    \n    export default LeadActivityContainer;\n   "]},"metadata":{},"sourceType":"module"}